<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prediction Results - Chronic Disease Analysis</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #87ceeb 0%, #b6e5ff 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
        }

        .content {
            padding: 40px;
        }

        .prediction-result {
            text-align: center;
            padding: 40px;
            border-radius: 15px;
            margin-bottom: 40px;
            font-size: 1.4em;
            font-weight: 600;
        }

        .prediction-result.positive {
            background: linear-gradient(135deg, #fee, #ffdddd);
            color: #d63031;
            border: 3px solid #d63031;
            box-shadow: 0 5px 20px rgba(214, 48, 49, 0.2);
        }

        .prediction-result.negative {
            background: linear-gradient(135deg, #efd, #ddffdd);
            color: #00b894;
            border: 3px solid #00b894;
            box-shadow: 0 5px 20px rgba(0, 184, 148, 0.2);
        }

        .prediction-icon {
            font-size: 3em;
            margin-bottom: 20px;
        }

        .data-summary {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .data-summary h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
        }

        .data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .data-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }

        .data-item label {
            font-weight: 600;
            color: #7f8c8d;
            font-size: 0.9em;
        }

        .data-item value {
            display: block;
            font-size: 1.1em;
            color: #2c3e50;
            margin-top: 5px;
        }

        .actions {
            text-align: center;
            margin-top: 40px;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            text-decoration: none;
            display: inline-block;
            margin: 0 10px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            color: white;
            text-decoration: none;
        }

        .disclaimer {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
        }

        .disclaimer h4 {
            color: #856404;
            margin-bottom: 10px;
        }

        .disclaimer p {
            color: #856404;
            line-height: 1.5;
        }

        .flash-messages {
            margin-bottom: 20px;
        }

        .flash-message {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .flash-message.error {
            background: #ffe6e6;
            color: #d63031;
            border-left: 4px solid #d63031;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 10px;
            }

            .content {
                padding: 20px;
            }

            .data-grid {
                grid-template-columns: 1fr;
            }

            .btn {
                display: block;
                margin: 10px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üî¨ Analysis Complete</h1>
            <p>AI-Powered Medical Prediction Results</p>
        </div>

        <div class="content">
            <!-- Flash Messages -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <div class="flash-messages">
                        {% for category, message in messages %}
                            <div class="flash-message {{ category }}">{{ message }}</div>
                        {% endfor %}
                    </div>
                {% endif %}
            {% endwith %}

            <!-- Error Message -->
            {% if error %}
                <div class="flash-message error">{{ error }}</div>
                <div class="actions">
                    <a href="/" class="btn btn-primary">‚Üê Back to Home</a>
                </div>
            {% else %}
                <!-- Prediction Result -->
                <div class="prediction-result {{ result_class }}">
                    <div class="prediction-icon">
                        {% if result_class == 'positive' %}
                            ‚ö†Ô∏è
                        {% else %}
                            ‚úÖ
                        {% endif %}
                    </div>
                    <div>{{ prediction_result }}</div>
                </div>

                <!-- Data Summary -->
                {% if all_data %}
                <div class="data-summary">
                    <h3>üìä Your Test Results Summary</h3>
                    <div class="data-grid">
                        <div class="data-item">
                            <label>Packed Cell Volume</label>
                            <value>{{ all_data.pcv }}%</value>
                        </div>
                        <div class="data-item">
                            <label>Haemoglobin</label>
                            <value>{{ all_data.hemoglobin }} g/dL</value>
                        </div>
                        <div class="data-item">
                            <label>Serum Creatinine</label>
                            <value>{{ all_data.serum_creatinine }} mg/dL</value>
                        </div>
                        <div class="data-item">
                            <label>Blood Urea</label>
                            <value>{{ all_data.blood_urea }} mg/dL</value>
                        </div>
                        <div class="data-item">
                            <label>Blood Glucose</label>
                            <value>{{ all_data.blood_glucose }} mg/dL</value>
                        </div>
                        <div class="data-item">
                            <label>Specific Gravity</label>
                            <value>{{ all_data.specific_gravity }}</value>
                        </div>
                        <div class="data-item">
                            <label>Albumin</label>
                            <value>{{ all_data.albumin }} mg/dL</value>
                        </div>
                        <div class="data-item">
                            <label>RBC Count</label>
                            <value>{{ all_data.rbc_count }}</value>
                        </div>
                        <div class="data-item">
                            <label>Hypertension</label>
                            <value>{{ "Yes" if all_data.hypertension == 1 else "No" }}</value>
                        </div>
                        <div class="data-item">
                            <label>Diabetes</label>
                            <value>{{ "Yes" if all_data.diabetes == 1 else "No" }}</value>
                        </div>
                    </div>
                </div>
                {% endif %}

                <!-- Actions -->
                <div class="actions">
                    <a href="/" class="btn btn-primary">üè† New Analysis</a>
                    <a href="#" class="btn btn-success" onclick="window.print()">üñ®Ô∏è Print Results</a>
                </div>

                <!-- Disclaimer -->
                <div class="disclaimer">
                    <h4>‚ö†Ô∏è Important Medical Disclaimer</h4>
                    <p>This AI prediction is for informational purposes only and should not replace professional medical advice, diagnosis, or treatment. Always consult with qualified healthcare providers for proper medical evaluation and guidance. The accuracy of predictions may vary based on individual health conditions.</p>
                </div>
            {% endif %}
        </div>
    </div>
</body>
</html>